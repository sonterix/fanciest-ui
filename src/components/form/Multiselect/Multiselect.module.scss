@import '../../../styles/helper.scss';

.MultiselectContainer {
  display: inline-block;

  .Label {
    display: block;
    margin-bottom: 5px;
    font-size: 16px;
    font-weight: 400;
    color: var(--color-neutral-700);
    user-select: none;
  }

  .Multiselect {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: flex-start;
    gap: 10px;
    position: relative;
    padding: 8px 42px 8px 16px;
    min-width: 110px;
    width: 100%;
    color: var(--color-neutral-900);
    background-color: transparent;
    border: 1px solid transparent;
    transition: color var(--trans), background-color var(--trans), border-color var(--trans);
    cursor: pointer;

    @mixin colorStylesLocal($color-primary, $color-secondary) {
      color: $color-primary;

      .MultiselectSelected > li {
        color: $color-secondary;
        background-color: $color-primary;

        > [data-active='true'] > svg {
          fill: $color-secondary;
        }
      }
    }

    &.Black {
      @include colorStylesLocal(var(--color-neutral-800), var(--color-neutral-0));
    }

    &.White {
      @include colorStylesLocal(var(--color-neutral-0), var(--color-neutral-900));
    }

    &.Yellow {
      @include colorStylesLocal(var(--color-warning-400), var(--color-neutral-0));
    }

    &.Orange {
      @include colorStylesLocal(var(--color-warning-600), var(--color-neutral-0));
    }

    &.Red {
      @include colorStylesLocal(var(--color-danger-500), var(--color-neutral-0));
    }

    &.Rose {
      @include colorStylesLocal(var(--color-primary-400), var(--color-neutral-0));
    }

    &.Green {
      @include colorStylesLocal(var(--color-success-400), var(--color-neutral-0));
    }

    &.Teal {
      @include colorStylesLocal(var(--color-primary-600), var(--color-neutral-0));
    }

    &.Turquoise {
      @include colorStylesLocal(var(--color-primary-600), var(--color-neutral-0));
    }

    &.Blue {
      @include colorStylesLocal(var(--color-secondary-500), var(--color-neutral-0));
    }

    &.Purple {
      @include colorStylesLocal(var(--color-secondary-700), var(--color-neutral-0));
    }

    &.Md {
      min-height: 50px;
      font-size: 18px;

      .MultiselectSelected > li {
        font-size: 14px;
        border-radius: 10px;
      }

      > svg {
        top: 16px;
      }

      .MultiselectSearch {
        font-size: 16px;
      }
    }

    &.Sm {
      min-height: 40px;
      font-size: 16px;

      .MultiselectSelected > li {
        font-size: 12px;
        border-radius: 8px;
      }

      > svg {
        top: 10px;
      }

      .MultiselectSearch {
        font-size: 14px;
      }
    }

    &.Rounded {
      border-radius: 26px;
    }

    &.Squared {
      border-radius: 6px;
    }

    &.Filled {
      background-color: var(--color-neutral-0);
      border-color: var(--color-neutral-200);

      &:hover,
      &:focus {
        border-color: var(--color-neutral-500);
      }
    }

    &.Outlined {
      padding-left: 0;
      padding-right: 34px;
      border-width: 2px;
      border-bottom-color: var(--color-neutral-200);
      border-radius: 0;

      &:hover,
      &:focus {
        border-bottom-color: var(--color-neutral-500);
      }
    }

    &[disabled] {
      color: var(--color-neutral-600);
      background-color: var(--color-neutral-100);
      pointer-events: none;
      cursor: default;

      .MultiselectResult {
        > svg {
          color: var(--color-neutral-600);
        }
      }
    }

    > svg {
      position: absolute;
      right: 11px;
      padding: 5px;
      width: 20px;
      height: 20px;
      color: var(--color-neutral-700);
      fill: currentColor;
      transition: transform var(--trans-fast);

      &.Up {
        transform: rotate(-90deg);
      }

      &.Down {
        transform: rotate(90deg);
      }
    }

    .MultiselectSelected {
      display: flex;
      justify-content: flex-start;
      align-items: flex-start;
      flex-wrap: wrap;
      gap: 8px;
      padding: 0;
      list-style: none;

      > li {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 5px;
        padding: 3px 10px;
        white-space: nowrap;

        > [data-active='true'] {
          padding: 3px;
          background-color: transparent;
          border: none;
          transition: opacity var(--trans);

          &:hover {
            opacity: 0.7;
          }

          > svg {
            width: 7px;
            height: 7px;
            flex-shrink: 0;
            pointer-events: none;
          }
        }
      }
    }

    .MultiselectSearch {
      width: inherit;
      padding: 0;
      border: none;
      background-color: transparent;
    }
  }
}

.MultiselectDropdown {
  position: absolute;
  transform: translate(-50%, 3px);
  padding: 0;
  max-height: 250px;
  list-style: none;
  background-color: var(--color-neutral-0);
  border: 1px solid var(--color-neutral-200);
  border-radius: 4px;
  box-shadow: 0px 4px 16px rgba(0, 0, 0, 0.15);
  overflow-x: hidden;
  overflow-y: auto;
  z-index: 99100;

  &.Md {
    font-size: 16px;

    > li.OptionsNotFound {
      font-size: 16px;
    }
  }

  &.Sm {
    font-size: 14px;

    > li.OptionsNotFound {
      font-size: 14px;
    }
  }

  > li.OptionsNotFound {
    padding: 10px 12px;
    font-weight: 500;
    text-align: center;
    color: var(--color-neutral-600);
  }

  > li,
  > li > button {
    display: block;
    color: inherit;
    font-size: inherit;
    font-weight: inherit;
  }

  > li > button {
    padding: 10px 12px;
    width: 100%;
    text-align: left;
    background-color: transparent;
    border: none;
    user-select: none;
    cursor: pointer;

    &[data-active='true'] {
      font-weight: 600;
      background-color: var(--color-neutral-100);
    }

    &:hover,
    &:focus {
      background-color: var(--color-neutral-200);
    }

    &:disabled {
      color: var(--color-neutral-200);
      background-color: var(--color-white9);
      cursor: default;
      pointer-events: none;
    }
  }
}
